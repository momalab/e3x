#include <iostream>
#include <cstdlib>

#define M 14

using namespace std;

void printMatrix(int m[M][M])
{
    for ( int i=0; i<M; i++ )
    {
        for ( int j=0; j<M; j++ ) cout << m[i][j] << " ";
        cout << "\n";
    }
}

int main()
{
    int a[M][M], b[M][M], c[M][M];
    for ( int i=0; i<M; i++ )
    {
        for ( int j=0; j<M; j++ )
        {
            a[i][j] = rand()%2;
            b[i][j] = rand()%2;
            c[i][j] = 0;
        }
    }
    printMatrix(a);
    cout << '\n';
    printMatrix(b);
    cout << '\n';

	asm("l.debug");

    int t = 14;
    int r0,r1,r2,r3,r4,r5,r6,r7,r8,r9,r10,r11,r12,r13,r14,r15;
    for ( int i=0; i<M; i+=t )
	{
        for ( int j=0; j<M; j+=t )
		{
            for ( int k=0; k<M; k+=t )
			{
                int minI = i+t;
                for ( int l=i; l<minI; l++ )
                {
                    r0 = a[l][k];
                    r1 = a[l][k+1];
                    r2 = a[l][k+2];
                    r3 = a[l][k+3];
                    r4 = a[l][k+4];
                    r5 = a[l][k+5];
                    r6 = a[l][k+6];
                    r7 = a[l][k+7];
                    r8 = a[l][k+8];
                    r9 = a[l][k+9];
                    r10 = a[l][k+10];
                    r11 = a[l][k+11];
                    r12 = a[l][k+12];
                    r13 = a[l][k+13];

                    r14 = b[k][j];
                    r15 = r0 * r14;
                    r14 = b[k+1][j];
                    r15 += r1 * r14;
                    r14 = b[k+2][j];
                    r15 += r2 * r14;
                    r14 = b[k+3][j];
                    r15 += r3 * r14;
                    r14 = b[k+4][j];
                    r15 += r4 * r14;
                    r14 = b[k+5][j];
                    r15 += r5 * r14;
                    r14 = b[k+6][j];
                    r15 += r6 * r14;
                    r14 = b[k+7][j];
                    r15 += r7 * r14;
                    r14 = b[k+8][j];
                    r15 += r8 * r14;
                    r14 = b[k+9][j];
                    r15 += r9 * r14;
                    r14 = b[k+10][j];
                    r15 += r10 * r14;
                    r14 = b[k+11][j];
                    r15 += r11 * r14;
                    r14 = b[k+12][j];
                    r15 += r12 * r14;
                    r14 = b[k+13][j];
                    r15 += r13 * r14;
                    r14 = c[l][j];
                    r14 += r15;
                    c[l][j] = r14;

                    r14 = b[k][j+1];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+1];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+1];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+1];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+1];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+1];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+1];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+1];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+1];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+1];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+1];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+1];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+1];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+1];
                    r15 += r13 * r14;
                    r14 = c[l][j+1];
                    r14 += r15;
                    c[l][j+1] = r14;

                    r14 = b[k][j+2];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+2];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+2];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+2];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+2];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+2];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+2];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+2];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+2];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+2];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+2];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+2];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+2];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+2];
                    r15 += r13 * r14;
                    r14 = c[l][j+2];
                    r14 += r15;
                    c[l][j+2] = r14;

                    r14 = b[k][j+3];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+3];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+3];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+3];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+3];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+3];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+3];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+3];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+3];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+3];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+3];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+3];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+3];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+3];
                    r15 += r13 * r14;
                    r14 = c[l][j+3];
                    r14 += r15;
                    c[l][j+3] = r14;

                    r14 = b[k][j+4];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+4];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+4];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+4];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+4];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+4];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+4];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+4];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+4];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+4];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+4];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+4];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+4];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+4];
                    r15 += r13 * r14;
                    r14 = c[l][j+4];
                    r14 += r15;
                    c[l][j+4] = r14;

                    r14 = b[k][j+5];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+5];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+5];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+5];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+5];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+5];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+5];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+5];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+5];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+5];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+5];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+5];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+5];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+5];
                    r15 += r13 * r14;
                    r14 = c[l][j+5];
                    r14 += r15;
                    c[l][j+5] = r14;

                    r14 = b[k][j+6];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+6];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+6];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+6];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+6];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+6];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+6];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+6];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+6];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+6];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+6];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+6];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+6];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+6];
                    r15 += r13 * r14;
                    r14 = c[l][j+6];
                    r14 += r15;
                    c[l][j+6] = r14;

                    r14 = b[k][j+7];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+7];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+7];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+7];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+7];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+7];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+7];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+7];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+7];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+7];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+7];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+7];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+7];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+7];
                    r15 += r13 * r14;
                    r14 = c[l][j+7];
                    r14 += r15;
                    c[l][j+7] = r14;

                    r14 = b[k][j+8];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+8];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+8];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+8];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+8];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+8];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+8];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+8];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+8];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+8];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+8];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+8];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+8];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+8];
                    r15 += r13 * r14;
                    r14 = c[l][j+8];
                    r14 += r15;
                    c[l][j+8] = r14;

                    r14 = b[k][j+9];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+9];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+9];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+9];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+9];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+9];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+9];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+9];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+9];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+9];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+9];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+9];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+9];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+9];
                    r15 += r13 * r14;
                    r14 = c[l][j+9];
                    r14 += r15;
                    c[l][j+9] = r14;

                    r14 = b[k][j+10];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+10];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+10];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+10];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+10];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+10];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+10];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+10];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+10];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+10];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+10];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+10];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+10];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+10];
                    r15 += r13 * r14;
                    r14 = c[l][j+10];
                    r14 += r15;
                    c[l][j+10] = r14;

                    r14 = b[k][j+11];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+11];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+11];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+11];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+11];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+11];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+11];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+11];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+11];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+11];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+11];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+11];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+11];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+11];
                    r15 += r13 * r14;
                    r14 = c[l][j+11];
                    r14 += r15;
                    c[l][j+11] = r14;

                    r14 = b[k][j+12];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+12];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+12];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+12];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+12];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+12];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+12];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+12];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+12];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+12];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+12];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+12];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+12];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+12];
                    r15 += r13 * r14;
                    r14 = c[l][j+12];
                    r14 += r15;
                    c[l][j+12] = r14;

                    r14 = b[k][j+13];
                    r15 = r0 * r14;
                    r14 = b[k+1][j+13];
                    r15 += r1 * r14;
                    r14 = b[k+2][j+13];
                    r15 += r2 * r14;
                    r14 = b[k+3][j+13];
                    r15 += r3 * r14;
                    r14 = b[k+4][j+13];
                    r15 += r4 * r14;
                    r14 = b[k+5][j+13];
                    r15 += r5 * r14;
                    r14 = b[k+6][j+13];
                    r15 += r6 * r14;
                    r14 = b[k+7][j+13];
                    r15 += r7 * r14;
                    r14 = b[k+8][j+13];
                    r15 += r8 * r14;
                    r14 = b[k+9][j+13];
                    r15 += r9 * r14;
                    r14 = b[k+10][j+13];
                    r15 += r10 * r14;
                    r14 = b[k+11][j+13];
                    r15 += r11 * r14;
                    r14 = b[k+12][j+13];
                    r15 += r12 * r14;
                    r14 = b[k+13][j+13];
                    r15 += r13 * r14;
                    r14 = c[l][j+13];
                    r14 += r15;
                    c[l][j+13] = r14;
                }
			}
		}
	}

    asm("l.debug");
    printMatrix(c);
}
